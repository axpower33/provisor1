&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ЭтотОбъект.Отчет.Дата1=НачалоМесяца(ТекущаяДата());
	ЭтотОбъект.Отчет.Дата2=КонецМесяца(ТекущаяДата());
КонецПроцедуры

&НаСервере
Функция ПолучитьМакет(ИмяМакета)
    ЭтотОтчет = РеквизитФормыВЗначение("Отчет");
    Макет = ЭтотОтчет.ПолучитьМакет(ИмяМакета); 
    Возврат Макет
КонецФункции

&НаСервере
Процедура Команда1НаСервере()
	ТабДокумент = Новый ТабличныйДокумент;
	ТабДокумент.Очистить();

    Макет = ПолучитьМакет("Макет"); 
	Шапка=Макет.ПолучитьОбласть("Шапка");
	Шапка.Параметры.Дата1=НачалоМесяца(ТекущаяДата());
	Шапка.Параметры.Дата2=КонецМесяца(ТекущаяДата());
	ТабДокумент.Вывести(Шапка);
	РегВыб=РегистрыНакопления.РегПрихода.Выбрать(Дата1,Дата2);
	Пока РегВыб.Следующий() Цикл
		 Строка=Макет.ПолучитьОбласть("Строка");
		 Строка.Параметры.Заполнить(РегВыб);
		 
		 ТабДокумент.Вывести(Строка);
	КонецЦикла;	
	
	ТабДокумент.Показать();

	
	// Вставить содержимое обработчика.
КонецПроцедуры


&НаКлиенте
Процедура Команда1(Команда)
	Команда1НаСервере();
КонецПроцедуры
	
